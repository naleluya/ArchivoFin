<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class Con_control extends CI_Controller{    public function __construct()    {        parent::__construct();        $this->load->model('Prestamo_model');        $this->load->model('Dtm_model');        $this->load->model('Ci_modelo');        $this->load->model('Cd_model');        $this->load->model('Cdaf_model');        $this->load->model('Pdp_model');        $this->load->model('Pmruc_model');        $this->load->model('Login_model');        $this->load->model('User_model');        $this->load->helper(array('html', 'url', 'form'));        $this->load->library('session');        $this->load->library('upload');    }    ////////DTM///////////////    public function index()    {        $data_session = $this->session->all_userdata();        if (isset($data_session)) {            if ($data_session['rol_nombre'] == 'CONSULTOR' and $data_session['hab_estado'] == true) {                $this->load->view('head', $data_session);                $this->load->view('menu_con');                $this->load->view('DTM/dtm_con');            } else {                redirect('/Login_control/close_session', 'refresh');            }        } else {            redirect('/Login_control/close_session', 'refresh');        }    }    public function list_DTM()    {        $fetch_data = $this->Dtm_model->make_dataTables();        $data = array();        foreach ($fetch_data as $row) {            $subarray = array();            $rowComplement = $this->Dtm_model->list_dtmComplement($row->dtm_id);            $subarray[] = '<span style="border-bottom:2px black solid;"><span style="font-size: 12px"><b>DTM</b>: <span style="background-color: #FFFF66">' . $row->dtm_nro . '</span></span></span><br><b>Gestion:</b> ' . $rowComplement->dtm_gestion;                $pg_date = $rowComplement->dtm_fecha_ingreso;                $date_obj = date_create_from_format('Y-m-d', $pg_date);                $date = date_format($date_obj, 'd-m-Y');            $subarray[] = '<span style="border-bottom:2px black solid;"><b>Nro. Correlativo:</b> ' . $row->dtm_correlativo . '</span><br><b>Nº Fojas:</b> ' . $rowComplement->dtm_nro_fojas . '<br><span  data-role="hint"                data-hint-text="Fecha de Ingreso" data-hint-position="right"><span class="mif-calendar fg-darkBlue mif-lg"></span> ' . $date . '</span>';            $monto = number_format($rowComplement->dtm_monto, 2, ',', '.');            $subarray[] = '<span  data-role="hint" data-hint-text="Beneficiario" data-hint-position="right"><span style="border-bottom:2px black solid;"><span class="mif-user-secret fg-darkGreen mif-lg"></span> ' .                $row->dtm_beneficiario . '</span></span><br><span  data-role="hint" data-hint-text="Monto" data-hint-position="right"><b>Bs. </b> ' . $monto . '</span><br><b>Nº Cheque: </b> ' . $rowComplement->dtm_nro_cheque.                '<br><span ><b>Nro. Contrato:</b> ' . $rowComplement->dtm_nro_con .'</span>';            $subarray[] = '<span><b>Por:</b> ' . $row->dtm_descripcion .'</span>';            $subarray[] = '<ul data-role="listview" data-view-icons="icons-medium">                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="ESTANTE" data-icon="' . base_url() . 'assets/svg/estante-lleno.svg" data-caption="' . $row->dtm_estante . '" style="border-bottom:2px black solid;"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="BALDA"                                data-icon="' . base_url() . 'assets/svg/balda.svg" data-caption="' . $rowComplement->dtm_balda . '"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="FILA"                                data-icon="' . base_url() . 'assets/svg/fila.svg" data-caption="' . $rowComplement->dtm_fila . '"></li>                        </ul>';            $subarray[] = '<span style="border-bottom:2px black solid;"><b>CUCE: </b>' . $row->dtm_cuce . '</span><br><b>Cite/Nro:</b> ' . $rowComplement->dtm_orden_cite . '<br><b>ORDEN DE </b>' . $rowComplement->dtm_orden_tipo .                '<br><b>BD: </b> ' . $rowComplement->dtm_bd;            $subarray[] = '<span style="border-bottom:2px black solid;"><b>SISIN: </b> ' . $row->dtm_sisin . '</span><br><b>Part. Pptaria.: </b> ' . $rowComplement->dtm_partida_pre . '<br><b>Obj. de gasto: </b> ' . $rowComplement->dtm_obj_gasto;            if ($row->dtm_adjuntar != '') {                $subarray[] = '<a class="file_upload" href="'.base_url().'assets/uploads/DTM/'. $row->dtm_adjuntar.'" target="_blank"><span class="mif-file-pdf fg-red mif-5x"></span></a>';            }            else {                $subarray[] = '<span class="mif-file-empty mif-5x"></span>';            }            $subarray[] = '<span style="display: none;">'.$row->dtm_id .'</span><b>Ninguno</b>';            $data[] = $subarray;        }        $output = array(            "draw" => intval($_POST["draw"]),            "recordsTotal" => $this->Dtm_model->get_all_data(),            "recordsFiltered" => $this->Dtm_model->get_filtered_data(),            "data" => $data        );        echo json_encode($output);    }    public function get_dtm($dtm_id)    {        $data = $this->Dtm_model->getDTM($dtm_id);        echo json_encode($data);    }    ////////CI///////////////    public function ci_index()    {        $data_session = $this->session->all_userdata();        if (isset($data_session)) {            if ($data_session['rol_nombre'] == 'CONSULTOR' and $data_session['hab_estado'] == true) {                $this->load->view('head', $data_session);                $this->load->view('menu_con');                $this->load->view('CI/ci_con');            } else {                redirect('/Login_control/close_session', 'refresh');            }        } else {            redirect('/Login_control/close_session', 'refresh');        }    }    public function list_CI()    {        $fetch_data = $this->Ci_modelo->make_dataTables();        $data = array();        foreach ($fetch_data as $row) {            $subarray = array();            $rowComplement = $this->Ci_modelo->list_ciComplement($row->ci_id);            $subarray[] = '<span style="border-bottom:2px black solid;"><span style="font-size: 12px"><b>CI</b>: <span style="background-color: #FFFF66">' . $row->ci_nro . '</span></span></span><br><b>Gestion:</b> ' . $rowComplement->ci_gestion;            $pg_date = $rowComplement->ci_fecha_ingreso;            $date_obj = date_create_from_format('Y-m-d', $pg_date);            $date = date_format($date_obj, 'd-m-Y');            $subarray[] = '<span style="border-bottom:2px black solid;"><b>Nro. Correlativo:</b> ' . $row->ci_correlativo . '</span><br><b>Nº Fojas:</b> ' . $rowComplement->ci_nro_fojas . '<br><span  data-role="hint"            data-hint-text="Fecha de Ingreso" data-hint-position="right"><span class="mif-calendar fg-darkBlue mif-lg"></span> ' . $date . '</span>';            $monto = number_format($rowComplement->ci_monto, 2, ',', '.');            $subarray[] = '<span style="border-bottom:2px black solid;"><span class="mif-user-secret fg-darkGreen mif-lg"></span> ' . $row->ci_beneficiario . '</span><br><span  data-role="hint" data-hint-text="Monto" data-hint-position="left"><b>Bs. </b> ' . $monto . '</span><br><b>Nº Cheque: </b> ' . $rowComplement->ci_nro_cheque .                '<br><b>Nro. Contrato:</b> ' . $rowComplement->ci_nro_con . '</span>';            $subarray[] = '<b>Por:</b> ' . $row->ci_descripcion;            $subarray[] = '<ul data-role="listview" data-view-icons="icons-medium">                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="ESTANTE" data-icon="' . base_url() . 'assets/svg/estante-lleno.svg" data-caption="' . $row->ci_estante . '" style="border-bottom:2px black solid;"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="BALDA"                                data-icon="' . base_url() . 'assets/svg/balda.svg" data-caption="' . $rowComplement->ci_balda . '"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="FILA"                                data-icon="' . base_url() . 'assets/svg/fila.svg" data-caption="' . $rowComplement->ci_fila . '"></li>                        </ul>';            $subarray[] = '<span style="border-bottom:2px black solid;"><b>CUCE: </b></span>' . $row->ci_cuce . '<br><b>Obj. de Gasto: </b>' . $rowComplement->ci_obj_gasto;            $subarray[] = '<span style="border-bottom:2px black solid;"><b>SISIN: </b> ' . $row->ci_sisin . '</span><br><b>Part. Pptria.: </b> ' . $rowComplement->ci_partida_pre;            if ($row->ci_adjuntar != '') {                $subarray[] = '<a class="file_upload" href="'.base_url().'assets/uploads/DTM/'. $row->ci_adjuntar.'" target="_blank"><span class="mif-file-pdf fg-red mif-5x"></span></a>';            }            else {                $subarray[] = '<span class="mif-file-empty mif-5x"></span>';            }            $subarray[] = '<span style="display: none;">'.$row->ci_id .'</span><b>Ninguno</b>';            $data[] = $subarray;        }        $output = array(            "draw" => intval($_POST["draw"]),            "recordsTotal" => $this->Ci_modelo->get_all_data(),            "recordsFiltered" => $this->Ci_modelo->get_filtered_data(),            "data" => $data        );        echo json_encode($output);    }    public function get_ci($ci_id)    {        $data = $this->Ci_modelo->getCI($ci_id);        echo json_encode($data);    }    ////////CD///////////////    public function cd_index()    {        $data_session = $this->session->all_userdata();        if (isset($data_session)) {            if ($data_session['rol_nombre'] == 'CONSULTOR' and $data_session['hab_estado'] == true) {                $this->load->view('head', $data_session);                $this->load->view('menu_con');                $this->load->view('CD/cd_con');            } else {                redirect('/Login_control/close_session', 'refresh');            }        } else {            redirect('/Login_control/close_session', 'refresh');        }    }    public function list_CD()    {        $fetch_data = $this->Cd_model->make_dataTables();        $data = array();        foreach ($fetch_data as $row) {            $subarray = array();            $rowComplement = $this->Cd_model->list_cdComplement($row->cd_id);            $subarray[] = '<span style="border-bottom:2px black solid;"><span style="font-size: 12px"><b>CD</b>: <span style="background-color: #FFFF66">' . $row->cd_nro . '</span></span></span><br><b>Gestion:</b> ' . $rowComplement->cd_gestion;            $pg_date = $rowComplement->cd_fecha_ingreso;            $date_obj = date_create_from_format('Y-m-d', $pg_date);            $date = date_format($date_obj, 'd-m-Y');            $subarray[] = '<span style="border-bottom:2px black solid;"><b>Nro. Correlativo:</b> ' . $row->cd_correlativo . '</span><br><b>Nº Fojas:</b> ' . $rowComplement->cd_nro_fojas . '<br><span  data-role="hint"            data-hint-text="Fecha de Ingreso" data-hint-position="right"><span class="mif-calendar fg-darkBlue mif-lg"></span> ' . $date . '</span>';            $monto = number_format($rowComplement->cd_monto, 2, ',', '.');            $subarray[] = '<span style="border-bottom:2px black solid;"><span class="mif-user-secret fg-darkGreen mif-lg"><span  data-role="hint" data-hint-text="Beneficiario" data-hint-position="right"></span></span> ' . $row->cd_beneficiario . '</span></span><br><span  data-role="hint" data-hint-text="Monto" data-hint-position="left"><b>Bs. </b> ' . $monto . '</span><br><b>Nº Cheque: </b> ' . $rowComplement->cd_nro_cheque                .'<br><b>Nro. Contrato:</b> ' . $rowComplement->cd_nro_con;            $subarray[] = '<b>Por:</b> ' . $row->cd_descripcion;            $subarray[] = '<ul data-role="listview" data-view-icons="icons-medium">                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="ESTANTE" data-icon="' . base_url() . 'assets/svg/estante-lleno.svg" data-caption="' . $row->cd_estante . '" style="border-bottom:2px black solid;"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="BALDA"                                data-icon="' . base_url() . 'assets/svg/balda.svg" data-caption="' . $rowComplement->cd_balda . '"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="FILA"                                data-icon="' . base_url() . 'assets/svg/fila.svg" data-caption="' . $rowComplement->cd_fila . '"></li>                        </ul>';            $subarray[] = '<span style="border-bottom:2px black solid;"><b>CUCE: </b>' . $row->cd_cuce . '</span><br><b>Cite/Nro:</b> ' . $rowComplement->cd_orden_cite . '<br><b>ORDEN DE </b>' . $rowComplement->cd_orden_tipo .                '<br><b>BD: </b> ' . $rowComplement->cd_bd;            $subarray[] = '<span style="border-bottom:2px black solid;"><b>SISIN: </b> ' . $row->cd_sisin . '</span><br><b>Part. Pptaria.: </b> ' . $rowComplement->cd_partida_pre . '<br><b>Objeto de gasto: </b> ' . $rowComplement->cd_obj_gasto;            if ($row->cd_adjuntar != '') {                $subarray[] = '<a class="file_upload" href="'.base_url().'assets/uploads/DTM/'. $row->cd_adjuntar.'" target="_blank"><span class="mif-file-pdf fg-red mif-5x"></span></a>';            }            else {                $subarray[] = '<span class="mif-file-empty mif-5x"></span>';            }            $subarray[] = '<span style="display: none;">'.$row->cd_id .'</span><b>Ninguno</b>';            $data[] = $subarray;        }        $output = array(            "draw" => intval($_POST["draw"]),            "recordsTotal" => $this->Cd_model->get_all_data(),            "recordsFiltered" => $this->Cd_model->get_filtered_data(),            "data" => $data        );        echo json_encode($output);    }    public function get_cd($cd_id)    {        $data = $this->Cd_model->getCD($cd_id);        echo json_encode($data);    }    ////////CDAF///////////////    public function cdaf_index()    {        $data_session = $this->session->all_userdata();        if (isset($data_session)) {            if ($data_session['rol_nombre'] == 'CONSULTOR' and $data_session['hab_estado'] == true) {                $this->load->view('head', $data_session);                $this->load->view('menu_con');                $this->load->view('CDAF/cdaf_con');            } else {                redirect('/Login_control/close_session', 'refresh');            }        } else {            redirect('/Login_control/close_session', 'refresh');        }    }    public function list_CDAF()    {        $fetch_data = $this->Cdaf_model->make_dataTables();        $data = array();        foreach ($fetch_data as $row) {            $subarray = array();            $rowComplement = $this->Cdaf_model->list_cdafComplement($row->cdaf_id);            $subarray[] = '<span style="border-bottom:2px black solid;"><span style="font-size: 12px"><b>CDAF</b>: <span style="background-color: #FFFF66">' . $row->cdaf_nro . '</span></span></span><br><b>Gestion:</b> ' . $rowComplement->cdaf_gestion;                $pg_date = $rowComplement->cdaf_fecha_ingreso;                $date_obj = date_create_from_format('Y-m-d', $pg_date);                $date = date_format($date_obj, 'd-m-Y');            $subarray[] = '<span style="border-bottom:2px black solid;"><b>Nro. Correlativo:</b> ' . $row->cdaf_correlativo . '</span><br><b>Nº Fojas:</b> ' . $rowComplement->cdaf_nro_fojas . '<br><span  data-role="hint"            data-hint-text="Fecha de Ingreso" data-hint-position="right"><span class="mif-calendar fg-darkBlue mif-lg"></span> ' . $date . '</span>';            $monto = number_format($rowComplement->cdaf_monto, 2, ',', '.');            $subarray[] = '<span style="border-bottom:2px black solid;"><span class="mif-user-secret fg-darkGreen mif-lg"></span> ' . $row->cdaf_beneficiario . '</span><br><span  data-role="hint" data-hint-text="Monto" data-hint-position="left"><b>Bs. </b> ' . $monto . '</span><br><b>Nº Cheque: </b> ' . $rowComplement->cdaf_nro_cheque                .'<br><b>Nro. Contrato:</b> ' . $rowComplement->cdaf_nro_con;            $subarray[] = '<b>Por:</b> ' . $row->cdaf_descripcion;            $subarray[] = '<ul data-role="listview" data-view-icons="icons-medium">                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="ESTANTE" data-icon="' . base_url() . 'assets/svg/estante-lleno.svg" data-caption="' . $row->cdaf_estante . '" style="border-bottom:2px black solid;"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="BALDA"                                data-icon="' . base_url() . 'assets/svg/balda.svg" data-caption="' . $rowComplement->cdaf_balda . '"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="FILA"                                data-icon="' . base_url() . 'assets/svg/fila.svg" data-caption="' . $rowComplement->cdaf_fila . '"></li>                        </ul>';            $subarray[] = '<span style="border-bottom:2px black solid;"><b>CUCE: </b>' . $row->cdaf_cuce . '</span><br><b>Cite/Nro:</b> ' . $rowComplement->cdaf_orden_cite . '<br><b>ORDEN DE </b>' . $rowComplement->cdaf_orden_tipo .                '<br><b>BD: </b> ' . $rowComplement->cdaf_bd;            $subarray[] = '<span style="border-bottom:2px black solid;"><b>SISIN: </b> ' . $row->cdaf_sisin . '</span><br><b>Part. Pptaria.: </b> ' . $rowComplement->cdaf_partida_pre . '<br><b>Objeto de gasto: </b> ' . $rowComplement->cdaf_obj_gasto;            if ($row->cdaf_adjuntar != '') {                $subarray[] = '<a class="file_upload" href="'.base_url().'assets/uploads/DTM/'. $row->cdaf_adjuntar.'" target="_blank"><span class="mif-file-pdf fg-red mif-5x"></span></a>';            }            else {                $subarray[] = '<span class="mif-file-empty mif-5x"></span>';            }            $subarray[] = '<span style="display: none;">'.$row->cdaf_id .'</span><b>Ninguno</b>';            $data[] = $subarray;        }        $output = array(            "draw" => intval($_POST["draw"]),            "recordsTotal" => $this->Cdaf_model->get_all_data(),            "recordsFiltered" => $this->Cdaf_model->get_filtered_data(),            "data" => $data        );        echo json_encode($output);    }    public function get_cdaf($cdaf_id)    {        $data = $this->Cdaf_model->getCDAF($cdaf_id);        echo json_encode($data);    }    ////////PDP///////////////    public function pdp_index()    {        $data_session = $this->session->all_userdata();        if (isset($data_session)) {            if ($data_session['rol_nombre'] == 'CONSULTOR' and $data_session['hab_estado'] == true) {                $this->load->view('head', $data_session);                $this->load->view('menu_con');                $this->load->view('PDP/pdp_con');            } else {                redirect('/Login_control/close_session', 'refresh');            }        } else {            redirect('/Login_control/close_session', 'refresh');        }    }    public function list_PDP()    {        $fetch_data = $this->Pdp_model->make_dataTables();        $data = array();        foreach ($fetch_data as $row) {            $subarray = array();            $rowComplement = $this->Pdp_model->list_pdpComplement($row->pdp_id);            $subarray[] = '<span style="border-bottom:2px black solid;"><span style="font-size: 12px"><b>PDP</b>: <span style="background-color: #FFFF66">' . $row->pdp_nro . '</span></span></span><br><b>Gestion:</b> ' . $rowComplement->pdp_gestion;            $pg_date = $rowComplement->pdp_fecha_ingreso;            $date_obj = date_create_from_format('Y-m-d', $pg_date);            $date = date_format($date_obj, 'd-m-Y');            $subarray[] = '<span style="border-bottom:2px black solid;"><b>Nro. Correlativo:</b> ' . $row->pdp_correlativo . '</span><br><b>Nº Fojas:</b> ' . $rowComplement->pdp_nro_fojas . '<br><span  data-role="hint"            data-hint-text="Fecha de Ingreso" data-hint-position="right"><span class="mif-calendar fg-darkBlue mif-lg"></span> ' . $date . '</span>';            $monto = number_format($rowComplement->pdp_monto, 2, ',', '.');            $subarray[] = '<span style="border-bottom:2px black solid;"><span class="mif-user-secret fg-darkGreen mif-lg"></span> ' . $row->pdp_beneficiario . '</span><br><span  data-role="hint" data-hint-text="Monto" data-hint-position="left"><b>Bs. </b> ' . $monto . '</span><br><b>Nº Cheque: </b> ' . $rowComplement->pdp_nro_cheque                .'<br><b>Nro. Contrato:</b> ' . $rowComplement->pdp_nro_con;            $subarray[] = '<br><b>Por:</b> ' . $row->pdp_descripcion;            $subarray[] = '<ul data-role="listview" data-view-icons="icons-medium">                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="ESTANTE" data-icon="' . base_url() . 'assets/svg/estante-lleno.svg" data-caption="' . $row->pdp_estante . '" style="border-bottom:2px black solid;"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="BALDA"                                data-icon="' . base_url() . 'assets/svg/balda.svg" data-caption="' . $rowComplement->pdp_balda . '"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="FILA"                                data-icon="' . base_url() . 'assets/svg/fila.svg" data-caption="' . $rowComplement->pdp_fila . '"></li>                        </ul>';            $subarray[] = '<span style="border-bottom:2px black solid;"><b>CUCE: </b>' . $row->pdp_cuce . '</span><br><b>Cite/Nro:</b> ' . $rowComplement->pdp_orden_cite . '<br><b>ORDEN DE </b>' . $rowComplement->pdp_orden_tipo .                '<br><b>BD: </b> ' . $rowComplement->pdp_bd;            $subarray[] = '<span style="border-bottom:2px black solid;"><b>SISIN: </b> ' . $row->pdp_sisin . '</span><br><b>Part. Pptaria.: </b> ' . $rowComplement->pdp_partida_pre . '<br><b>Objeto de gasto: </b> ' . $rowComplement->pdp_obj_gasto;            if ($row->pdp_adjuntar != '') {                $subarray[] = '<a class="file_upload" href="'.base_url().'assets/uploads/DTM/'. $row->pdp_adjuntar.'" target="_blank"><span class="mif-file-pdf fg-red mif-5x"></span></a>';            }            else {                $subarray[] = '<span class="mif-file-empty mif-5x"></span>';            }            $subarray[] = '<span style="display: none;">'.$row->pdp_id .'</span><b>Ninguno</b>';            $data[] = $subarray;        }        $output = array(            "draw" => intval($_POST["draw"]),            "recordsTotal" => $this->Pdp_model->get_all_data(),            "recordsFiltered" => $this->Pdp_model->get_filtered_data(),            "data" => $data        );        echo json_encode($output);    }    public function get_pdp($pdp_id)    {        $data = $this->Pdp_model->getPDP($pdp_id);        echo json_encode($data);    }    ////////PMRUC///////////////    public function pmruc_index()    {        $data_session = $this->session->all_userdata();        if (isset($data_session)) {            if ($data_session['rol_nombre'] == 'CONSULTOR' and $data_session['hab_estado'] == true) {                $this->load->view('head', $data_session);                $this->load->view('menu_con');                $this->load->view('PMRUC/pmruc_con');            } else {                redirect('/Login_control/close_session', 'refresh');            }        } else {            redirect('/Login_control/close_session', 'refresh');        }    }    public function list_PMRUC()    {        $fetch_data = $this->Pmruc_model->make_dataTables();        $data = array();        foreach ($fetch_data as $row) {            $subarray = array();            $rowComplement = $this->Pmruc_model->list_pmrucComplement($row->pmruc_id);            $subarray[] = '<span style="border-bottom:2px black solid;"><span style="font-size: 12px"><b>PMRUC</b>: <span style="background-color: #FFFF66">' . $row->pmruc_nro . '</span></span></span><br><b>Gestion:</b> ' . $rowComplement->pmruc_gestion;            $pg_date = $rowComplement->pmruc_fecha_ingreso;            $date_obj = date_create_from_format('Y-m-d', $pg_date);            $date = date_format($date_obj, 'd-m-Y');            $subarray[] = '<span style="border-bottom:2px black solid;"><b>Nro. Correlativo:</b> ' . $row->pmruc_correlativo . '</span><br><b>Nº Fojas:</b> ' . $rowComplement->pmruc_nro_fojas . '<br><span  data-role="hint"            data-hint-text="Fecha de Ingreso" data-hint-position="right"><span class="mif-calendar fg-darkBlue mif-lg"></span> ' . $date . '</span>';            $monto = number_format($rowComplement->pmruc_monto, 2, ',', '.');            $subarray[] = '<span style="border-bottom:2px black solid;"><span class="mif-user-secret fg-darkGreen mif-lg"></span> ' . $row->pmruc_beneficiario . '</span><br><span  data-role="hint" data-hint-text="Monto" data-hint-position="left"><b>Bs. </b> ' . $monto . '</span><br><b>Nº Cheque: </b> ' . $rowComplement->pmruc_nro_cheque                .'<br><b>Nro. Contrato:</b> ' . $rowComplement->pmruc_nro_con;            $subarray[] = '<br><b>Por:</b> ' . $row->pmruc_descripcion;            $subarray[] = '<ul data-role="listview" data-view-icons="icons-medium">                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="ESTANTE" data-icon="' . base_url() . 'assets/svg/estante-lleno.svg" data-caption="' . $row->pmruc_estante . '" style="border-bottom:2px black solid;"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="BALDA"                                data-icon="' . base_url() . 'assets/svg/balda.svg" data-caption="' . $rowComplement->pmruc_balda . '"></li>                            <li data-role="hint"                                data-hint-position="left"                                data-hint-text="FILA"                                data-icon="' . base_url() . 'assets/svg/fila.svg" data-caption="' . $rowComplement->pmruc_fila . '"></li>                        </ul>';            $subarray[] = '<span style="border-bottom:2px black solid;"><b>CUCE: </b>' . $row->pmruc_cuce . '</span><br><b>Cite/Nro:</b> ' . $rowComplement->pmruc_orden_cite . '<br><b>ORDEN DE </b>' . $rowComplement->pmruc_orden_tipo .                '<br><b>BD: </b> ' . $rowComplement->pmruc_bd;            $subarray[] = '<span style="border-bottom:2px black solid;"><b>SISIN: </b> ' . $row->pmruc_sisin . '</span><br><b>Part. Pptaria.: </b> ' . $rowComplement->pmruc_partida_pre . '<br><b>Objeto de gasto: </b> ' . $rowComplement->pmruc_obj_gasto;            if ($row->pmruc_adjuntar != '') {                $subarray[] = '<a class="file_upload" href="'.base_url().'assets/uploads/DTM/'. $row->pmruc_adjuntar.'" target="_blank"><span class="mif-file-pdf fg-red mif-5x"></span></a>';            }            else {                $subarray[] = '<span class="mif-file-empty mif-5x"></span>';            }            $subarray[] = '<span style="display: none;">'.$row->pmruc_id .'</span><b>Ninguno</b>';            $data[] = $subarray;        }        $output = array(            "draw" => intval($_POST["draw"]),            "recordsTotal" => $this->Pmruc_model->get_all_data(),            "recordsFiltered" => $this->Pmruc_model->get_filtered_data(),            "data" => $data        );        echo json_encode($output);    }    public function get_pmruc($pmruc_id)    {        $data = $this->Pmruc_model->getPMRUC($pmruc_id);        echo json_encode($data);    }    /* Desarrollado por:        Lic. Mark Erik Copa        Ing. Nelson Erwin Aleluya        G.A.M.E.A.        2018 */}