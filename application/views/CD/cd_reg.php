<div class="pt-16 border-bottom bd-default bg-light">    <div class="container-fluid">        <div class="row">            <div class="cell-md-6 text-center-md text-left pt-2">                <h3 class="display1">COMPROBANTES DE DESCARGO</h3>                <button class="button primary rounded drop-shadow" onclick="Metro.dialog.open('#demoDialog1')" id="add_cd"><span                        class="mif-note-add mif-lg"></span>Adicionar CD                </button>                <button class="button alert square rounded drop-shadow" id="reload"><span class="mif-loop2 mif-lg"></span></button>            </div>        </div>    </div>    <div style="overflow-x:auto;">        <div class="container-fluid pt-0 pl-0 pr-0 pl-5-md pr-5-md">            <table class="table row-border row-hover compact" id="tableCD">                <thead>                <tr>                    <th class="sortable-column sort-asc">CD<br>Gestion</th>                    <th class="sortable-column sort-asc" style="width: 10%">Nro. Correlativo/<br>Nº Fojas</th>                    <th class="sortable-column sort-asc">Beneficiario</th>                    <th class="sortable-column sort-asc" style="width: 25%">Descripcion</th>                    <th class="sortable-column sort-asc">Ubicacion</th>                    <th class="sortable-column sort-asc">CUCE</th>                    <th class="sortable-column sort-asc" style="width: 8%">SISIN</th>                    <th style="width: 5%">Archivo</th>                    <th style="width: 8%">Accion</th>                </tr>                </thead>                <tbody style="font-size: 13px;">                </tbody>            </table>        </div>    </div></div><!--modal Dialog INSERT CD--><div data-role="dialog" id="demoDialog1" style="background-color: #f4eeb2" data-width="800">    <div class="dialog-title" style="font-weight:900;">ADICIONAR CD (COMPROBANTES DE DESCARGO)</div>    <div class="dialog-content">        <form data-role="validator" method="post" action="<?php echo site_url('Reg_control/save_cd')?>">            <div class="row mb-4">                <div class="cell-md-3">                    <label>Fecha</label>                    <input name="cd_fecha_ingreso" data-role="datepicker" data-locale="es-ES">                </div>                <div class="cell-md-3">                    <label>CD</label>                    <input name="cd_nro" type="number" data-validate="required number">                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Ingresar CD                    </span>                </div>                <div class="cell-md-2">                    <label>Gestion</label>                    <select  name="cd_gestion" data-role="select" data-validate="required">                        <option></option>                        <option value="2015">2015</option>                        <option value="2016">2016</option>                        <option value="2017">2017</option>                        <option value="2018">2018</option>                        <option value="2019">2019</option>                        <option value="2020">2020</option>                    </select>                    <span class="invalid_feedback">                      Seleccione Gestion                    </span>                </div>                <div class="cell-md-2">                    <label>Nº Correlativo</label>                    <input name="cd_nro_correlativo" type="number" data-validate="required number">                    <span class="invalid_feedback">                      <span class="mif-warning"></span>Introduzca Nº Correlativo                    </span>                </div>                <div class="cell-md-2">                    <label>Nº Fojas</label>                    <input name="cd_nro_fojas" type="number">                </div>            </div>            <div class="row mb-2">                <div class="cell-md-6">                    <label>Beneficiario</label>                    <input class="text-upper" name="cd_beneficiario" type="text" data-validate="required">                     <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Beneficiario                    </span>                </div>                <div class="cell-md-6">                    <label>Descripcion</label>                    <textarea class="text-upper" name="cd_descripcion" data-validate="required"></textarea>                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Descripcion                    </span>                </div>            </div>            <div class="row mb-5">                <div class="cell-md-3">                    <label>Nº Contrato</label>                    <input class="text-upper" name="cd_nro_con" type="text">                </div>                <div class="cell-md-3">                    <label>Monto Economico</label>                    <input name="cd_monto" id="cd_monto" type="text" data-validate="required number" placeholder="0.00">                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Monto Economico                    </span>                </div>                <div class="cell-md-2">                    <label>Estante</label>                    <input class="text-upper" name="cd_estante" type="text" required>                </div>                <div class="cell-md-2">                    <label>Balda</label>                    <select name="cd_balda" data-role="select">                        <option value=""></option>                        <option value="A">A</option>                        <option value="B">B</option>                        <option value="C">C</option>                        <option value="D">D</option>                        <option value="E">E</option>                        <option value="F">F</option>                    </select>                    <div class="invalid_feedback">Please provide a valid zip.</div>                </div>                <div class="cell-md-2">                    <label>Fila</label>                    <select name="cd_fila" data-role="select">                        <option value=""></option>                        <option value="1">1</option>                        <option value="2">2</option>                        <option value="3">3</option>                        <option value="4">4</option>                        <option value="5">5</option>                        <option value="6">6</option>                    </select>                    <div class="invalid_feedback">Please provide a valid zip.</div>                </div>            </div>            <div class="row mb-3">                <div class="cell-md-3">                    <label>ORDEN DE</label>                    <select name="cd_orden_tipo" data-role="select">                        <option></option>                        <option value="COMPRA">COMPRA</option>                        <option value="SERVICIO">SERVICIO</option>                    </select>                </div>                <div class="cell-md-6">                    <label>CITE/NRO</label>                    <input class="text-upper" name="cd_orden_cite" type="text">                </div>                <div class="cell-md-3">                    <label>Nº Cheque</label>                    <input name="cd_nro_cheque" type="number">                </div>            </div>            <div class="row mb-2">                <div class="cell-md-6">                    <label>SISIN</label>                    <input class="text-upper" name="cd_sisin" type="text">                </div>                <div class="cell-md-6">                    <label>CUCE</label>                    <input class="text-upper" name="cd_cuce" type="text">                </div>            </div>            <div class="row mb-3">                <div class="cell-md-4">                    <label>Objeto de Gasto</label>                    <input class="text-upper" name="cd_obj_gasto" type="text">                </div>                <div class="cell-md-4">                    <label>BD</label>                    <input name="cd_bd" type="number">                </div>                <div class="cell-md-4">                    <label>Partida Presupuestaria</label>                    <input name="cd_partida_pre" type="number">                </div>            </div>    </div>    <div class="dialog-actions">        <button type="submit" class="button primary rounded drop-shadow">Aceptar</button>        </form>        <button class="button secondary js-dialog-close rounded drop-shadow">Cancelar</button>    </div></div><!--modal Dialog EDIT CD--><div data-role="dialog" id="demoEdit" style="background-color: #f4eeb2" data-width="800">    <div class="dialog-title" style="font-weight:900;">ACTUALIZAR CD (COMPROBANTES DE DESCARGO)</div>    <div class="dialog-content">        <form data-role="validator" method="post" action="<?php echo site_url('Reg_control/edit_cd')?>">            <input type="hidden" name="cd_id">            <div class="row mb-4">                <div class="cell-md-3">                    <label>Fecha</label>                    <input name="e_cd_fecha_ingreso" data-role="datepicker" data-locale="es-ES" data-value="" id="e_cd_fecha_ingreso">                </div>                <div class="cell-md-3">                    <label>CD</label>                    <input name="e_cd_nro" type="number" data-validate="required number">                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Ingresar CD                    </span>                </div>                <div class="cell-md-2">                    <label>Gestion</label>                    <select  name="e_cd_gestion"  data-validate="required">                        <option></option>                        <option value="2015">2015</option>                        <option value="2016">2016</option>                        <option value="2017">2017</option>                        <option value="2018">2018</option>                        <option value="2019">2019</option>                        <option value="2020">2020</option>                    </select>                    <span class="invalid_feedback">                      Seleccione Gestion                    </span>                </div>                <div class="cell-md-2">                    <label>Nº Correlativo</label>                    <input name="e_cd_nro_correlativo" type="number" data-validate="required number">                    <span class="invalid_feedback">                      <span class="mif-warning"></span>Introduzca Nº Correlativo                    </span>                </div>                <div class="cell-md-2">                    <label>Nº Fojas</label>                    <input name="e_cd_nro_fojas" type="number">                </div>            </div>            <div class="row mb-2">                <div class="cell-md-6">                    <label>Beneficiario</label>                    <input class="text-upper" name="e_cd_beneficiario" type="text" data-validate="required">                     <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Beneficiario                    </span>                </div>                <div class="cell-md-6">                    <label>Descripcion</label>                    <textarea class="text-upper" name="e_cd_descripcion" data-validate="required"></textarea>                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Descripcion                    </span>                </div>            </div>            <div class="row mb-5">                <div class="cell-md-3">                    <label>Nº Contrato</label>                    <input class="text-upper" name="e_cd_nro_con" data-validate="required" type="text" >                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Nº Contrato                    </span>                </div>                <div class="cell-md-3">                    <label>Monto Economico</label>                    <input name="e_cd_monto" type="text" data-validate="required number" id="e_cd_monto">                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Monto Economico                    </span>                </div>                <div class="cell-md-2">                    <label>Estante</label>                    <input class="text-upper" name="e_cd_estante" type="text" required>                </div>                <div class="cell-md-2">                    <label>Balda</label>                    <select name="e_cd_balda">                        <option value="PENDIENTE"></option>                        <option value="A">A</option>                        <option value="B">B</option>                        <option value="C">C</option>                        <option value="D">D</option>                        <option value="E">E</option>                        <option value="F">F</option>                    </select>                    <div class="invalid_feedback">Please provide a valid zip.</div>                </div>                <div class="cell-md-2">                    <label>Fila</label>                    <select name="e_cd_fila">                        <option value="PENDIENTE"></option>                        <option value="1">1</option>                        <option value="2">2</option>                        <option value="3">3</option>                        <option value="4">4</option>                        <option value="5">5</option>                        <option value="6">6</option>                    </select>                    <div class="invalid_feedback">Please provide a valid zip.</div>                </div>            </div>            <div class="row mb-3">                <div class="cell-md-3">                    <label>ORDEN DE</label>                    <select name="e_cd_orden_tipo" data-validate="required">                        <option></option>                        <option value="COMPRA">COMPRA</option>                        <option value="SERVICIO">SERVICIO</option>                    </select>                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca ORDEN DE                    </span>                </div>                <div class="cell-md-6">                    <label>CITE/NRO</label>                    <input class="text-upper" name="e_cd_orden_cite" type="text">                     <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca CITE/NRO                    </span>                </div>                <div class="cell-md-3">                    <label>Nº Cheque</label>                    <input name="e_cd_nro_cheque" type="number">                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Nº Cheque                    </span>                </div>            </div>            <div class="row mb-12">                <div class="cell-md-6">                    <label>SISIN</label>                    <input class="text-upper" name="e_cd_sisin" type="text">                   <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Nº SISIN                    </span>                </div>                <div class="cell-md-6">                    <label>CUCE</label>                    <input class="text-upper" name="e_cd_cuce" type="text">                </div>            </div>            <div class="row mb-3">                <div class="cell-md-4">                    <label>Objeto de Gasto</label>                    <input class="text-upper" name="e_cd_obj_gasto" type="text">                </div>                <div class="cell-md-4">                    <label>BD</label>                    <input name="e_cd_bd" type="number">                </div>                <div class="cell-md-4">                    <label>Partida Presupuestaria</label>                    <input name="e_cd_partida_pre" type="number">                </div>            </div>    </div>    <div class="dialog-actions">        <button type="submit" class="button primary rounded drop-shadow">Aceptar</button>        </form>        <button class="button secondary js-dialog-close rounded drop-shadow">Cancelar</button>    </div></div><!--modal Dialog UPLOAD CD--><div data-role="dialog" id="demoUp" style="background-color: #f4eeb2" data-width="500">    <div class="dialog-title" style="font-weight:900;">SUBIR ARCHIVO</div>    <div class="dialog-content">        <form  id="upload" method="post" enctype="multipart/form-data" action="<?php echo site_url("Reg_control/upload_CD");?>">            <!--El name del campo tiene que ser si o si "userfile"-->            <div class="row mb-2">                <div class="cell-md-9">                    <input type="file" data-role="file" name="cd_file" id="cd_file" data-validate="required" data-caption="<span class='mif-folder'></span>">                    <input type="hidden" name="nFile" id="nFile">                    <input type="hidden" name="cd_id">                </div>                <div class="cell-md-3">                    <button type="submit" class="button primary rounded drop-shadow">Enviar Arch.</button>                </div>        </form>        <progress id="prog" max="100" value="0" style="display: none;">        </progress>        <div id="percent" style="font-weight:bold;"></div>    </div>    <div class="dialog-actions">        <button class="button alert js-dialog-close rounded drop-shadow">Cerrar</button>    </div></div></body><style type="text/css">    label{ font-size: 10px; font-weight:900;}    #tableCD_filter{padding-left: 2%;    padding-right: 2%;}    #tableCD_length {padding-left: 2%;        padding-right: 2%;}</style><script>    $(document).ready(function () {        var dataTable = $('#tableCD').DataTable({            "processing": true,            "serverSide": true,            "order": [],            "ajax": {                url: "<?php echo base_url() . 'index.php/reg_control/list_CD';?>",                type: "POST"            },            "columnDefs": [                {                    "targets": [3,7,8],                    "orderable": false                }            ],            "retrieve": true,            "deferRender": true,            "crollCollapse": true,            "scroller": true,            "language": {                "sProcessing": "Procesando...",                "sLengthMenu": "Mostrar _MENU_ registros",                "sZeroRecords": "No se encontraron resultados",                "sEmptyTable": "Ningún dato disponible en esta tabla",                "sInfo": "Mostrando  _START_ al _END_ del total _TOTAL_",                "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",                "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",                "sInfoPostFix": "",                "sSearch": "Buscar:",                "sUrl": "",                "sInfoThousands": ",",                "sLoadingRecords": "Cargando...",                "oPaginate": {                    "sFirst": "Primero",                    "sLast": "Último",                    "sNext": ">>",                    "sPrevious": "<<"                },                "oAria": {                    "sSortAscending": ": Activar para ordenar la columna de manera ascendente",                    "sSortDescending": ": Activar para ordenar la columna de manera descendente"                }            },            "lengthMenu": [10, 20, 30, 100]        });        $('#cd_monto').number( true, 2,',', '.' );        $('#e_cd_monto').number( true, 2,',', '.' );        $('#reload').click(function () {            location.reload();        });        $('#upload').on('submit',function (e) {            e.preventDefault();            $(this).ajaxSubmit({                beforeSend:function () {                    $('#prog').show();                    $('#prog').attr('value','0');                    rowCD()                },                uploadProgress:function (event,position,total,percentCompelete) {                    $('#prog').attr('value',percentCompelete);                    $('#percent').html(percentCompelete+'%');                },                success: function (data) {                    alertify.alert('SI-ARCH',data);                    window.setTimeout('location.reload()', 1000);                }            });        });    });    function editCD(cd_id)    {        $.ajax({            url: "<?php echo site_url('Reg_control/get_cd/')?>" + cd_id,            type: "GET",            dataType: "JSON",            success: function (data) {                var separador = "-";                var arrayFecha = data.cd_fecha_ingreso.split(separador);                var anio = arrayFecha[0];                var mes = arrayFecha[1];                var dia = arrayFecha[2];                var dateNew = new Date(anio, mes-1 , dia);                $('#e_cd_fecha_ingreso').attr('data-value',dateNew);                $('[name="e_cd_nro"]').val(data.cd_nro);                $('[name="e_cd_gestion"]').val(data.cd_gestion);                $('[name="e_cd_nro_correlativo"]').val(data.cd_correlativo);                $('[name="e_cd_nro_fojas"]').val(data.cd_nro_fojas);                $('[name="e_cd_beneficiario"]').val(data.cd_beneficiario);                $('[name="e_cd_descripcion"]').val(data.cd_descripcion);                $('[name="e_cd_nro_con"]').val(data.cd_nro_con);                var m = data.cd_monto;                var res = m.replace(".", ",");                $('[name="e_cd_monto"]').val(res);                $('[name="e_cd_estante"]').val(data.cd_estante);                $('[name="e_cd_balda"]').val(data.cd_balda);                $('[name="e_cd_fila"]').val(data.cd_fila);                $('[name="e_cd_orden_tipo"]').val(data.cd_orden_tipo);                $('[name="e_cd_orden_cite"]').val(data.cd_orden_cite);                $('[name="e_cd_nro_cheque"]').val(data.cd_nro_cheque);                $('[name="e_cd_sisin"]').val(data.cd_sisin);                $('[name="e_cd_cuce"]').val(data.cd_cuce);                $('[name="e_cd_obj_gasto"]').val(data.cd_obj_gasto);                $('[name="e_cd_bd"]').val(data.cd_bd);                $('[name="e_cd_partida_pre"]').val(data.cd_partida_pre);                $('[name="cd_id"]').val(data.cd_id);            },            error: function (jqXHR, textStatus, errorThrown) {                alert('Error al obtener datos de ajax');            }        });        Metro.dialog.open('#demoEdit');    }    function  uploadCD(cd_id, cd_nro, cd_gestion) {        var nFile = cd_id+'_CD-'+cd_nro+'_'+cd_gestion;        $('[name="nFile"]').val(nFile );        $('[name="cd_id"]').val(cd_id);        Metro.dialog.open('#demoUp');    }    function  rowCD() {    }</script></html>