<div class="pt-16 border-bottom bd-default bg-light">    <div class="container-fluid">        <div class="row">            <div class="cell-md-9 text-center-md text-left pt-2">                <h3 class="display1">PROGRAMA DE DRENAJE PLUVIAL</h3>                <button class="button primary rounded drop-shadow" onclick="Metro.dialog.open('#demoDialog1')" id="add_pdp"><span                        class="mif-note-add mif-lg"></span>Adicionar PDP                </button>                <button class="button alert square rounded drop-shadow" id="reload"><span class="mif-loop2 mif-lg"></span></button>            </div>        </div>    </div>    <div style="overflow-x:scroll;">        <div class="container-fluid pt-0 pl-0 pr-0 pl-5-md pr-5-md">            <table class="table row-border row-hover compact" id="tablePDP">                <thead>                <tr>                    <th class="sortable-column sort-asc">PDP<br>Gestion</th>                    <th class="sortable-column sort-asc" style="width: 10%">Nro. Correlativo/<br>Nº Fojas</th>                    <th class="sortable-column sort-asc" style="width: 10%">Beneficiario</th>                    <th class="sortable-column sort-asc" style="width: 30%">Descripcion</th>                    <th class="sortable-column sort-asc">Ubicacion</th>                    <th class="sortable-column sort-asc">CUCE</th>                    <th class="sortable-column sort-asc" style="width: 8%">SISIN</th>                    <th>Archivo</th>                    <th>Accion</th>                </tr>                </thead>                <tbody style="font-size: 13px;">                </tbody>            </table>        </div>    </div>    <div style="text-align: center;"><span style="text-shadow: 1px 1px 1px #3f4448; color: #ff9317; font-size: 18px;">&#174;</span>        <span style="text-shadow: 1px 1px 1px #3f4448; color: #ff9317;">G.A.M.E.A. 2018</span>    </div></div><!--modal Dialog INSERT PDP--><div data-role="dialog" id="demoDialog1" style="background-color: #f4eeb2" data-width="800">    <div class="dialog-title" style="font-weight:900;">ADICIONAR PDP </div>    <div class="dialog-content">        <form data-role="validator" method="post" action="<?php echo site_url('Admin_control/save_pdp')?>">            <div class="row mb-4">                <div class="cell-md-3">                    <label>Fecha</label>                    <input name="pdp_fecha_ingreso" data-role="datepicker" data-locale="es-ES">                </div>                <div class="cell-md-3">                    <label>PDP</label>                    <input name="pdp_nro" type="number" data-validate="required number">                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Ingresar PDP                    </span>                </div>                <div class="cell-md-2">                    <label>Gestion</label>                    <select  name="pdp_gestion" data-role="select" data-validate="required">                        <option></option>                        <option value="2015">2015</option>                        <option value="2016">2016</option>                        <option value="2017">2017</option>                        <option value="2018">2018</option>                        <option value="2019">2019</option>                        <option value="2020">2020</option>                    </select>                    <span class="invalid_feedback">                      Seleccione Gestion                    </span>                </div>                <div class="cell-md-2">                    <label>Nº Correlativo</label>                    <input name="pdp_nro_correlativo" type="number" data-validate="required number">                    <span class="invalid_feedback">                      <span class="mif-warning"></span>Introduzca Nº Correlativo                    </span>                </div>                <div class="cell-md-2">                    <label>Nº Fojas</label>                    <input name="pdp_nro_fojas" type="number">                </div>            </div>            <div class="row mb-2">                <div class="cell-md-6">                    <label>Beneficiario</label>                    <input class="text-upper" name="pdp_beneficiario" type="text" data-validate="required">                     <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Beneficiario                    </span>                </div>                <div class="cell-md-6">                    <label>Descripcion</label>                    <textarea class="text-upper" name="pdp_descripcion" data-validate="required"></textarea>                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Descripcion                    </span>                </div>            </div>            <div class="row mb-5">                <div class="cell-md-3">                    <label>Nº Contrato</label>                    <input class="text-upper" name="pdp_nro_con" type="text" >                </div>                <div class="cell-md-3">                    <label>Monto Economico</label>                    <input name="pdp_monto" id="pdp_monto" type="text" data-validate="required number" placeholder="0.00">                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Monto Economico                    </span>                </div>                <div class="cell-md-2">                    <label>Estante</label>                    <input class="text-upper" name="pdp_estante" type="text" required>                </div>                <div class="cell-md-2">                    <label>Balda</label>                    <select name="pdp_balda" data-role="select">                        <option value=""></option>                        <option value="A">A</option>                        <option value="B">B</option>                        <option value="C">C</option>                        <option value="D">D</option>                        <option value="E">E</option>                        <option value="F">F</option>                    </select>                    <div class="invalid_feedback">Please provide a valid zip.</div>                </div>                <div class="cell-md-2">                    <label>Fila</label>                    <select name="pdp_fila" data-role="select">                        <option value=""></option>                        <option value="1">1</option>                        <option value="2">2</option>                        <option value="3">3</option>                        <option value="4">4</option>                        <option value="5">5</option>                        <option value="6">6</option>                    </select>                    <div class="invalid_feedback">Please provide a valid zip.</div>                </div>            </div>            <div class="row mb-3">                <div class="cell-md-3">                    <label>ORDEN DE</label>                    <select name="pdp_orden_tipo" data-role="select">                        <option></option>                        <option value="COMPRA">COMPRA</option>                        <option value="SERVICIO">SERVICIO</option>                    </select>                </div>                <div class="cell-md-6">                    <label>CITE/NRO</label>                    <input class="text-upper" name="pdp_orden_cite" type="text">                </div>                <div class="cell-md-3">                    <label>Nº Cheque</label>                    <input name="pdp_nro_cheque" type="number">                </div>            </div>            <div class="row mb-2">                <div class="cell-md-6">                    <label>SISIN</label>                    <input class="text-upper" name="pdp_sisin" type="text">                </div>                <div class="cell-md-6">                    <label>CUCE</label>                    <input class="text-upper" name="pdp_cuce" type="text">                </div>            </div>            <div class="row mb-3">                <div class="cell-md-4">                    <label>Objeto de Gasto</label>                    <input class="text-upper" name="pdp_obj_gasto" type="text">                </div>                <div class="cell-md-4">                    <label>BD</label>                    <input name="pdp_bd" type="number">                </div>                <div class="cell-md-4">                    <label>Partida Presupuestaria</label>                    <input name="pdp_partida_pre" type="number">                </div>            </div>    </div>    <div class="dialog-actions">        <button type="submit" class="button primary rounded drop-shadow">Aceptar</button>        </form>        <button class="button secondary js-dialog-close rounded drop-shadow">Cancelar</button>    </div>    <div style="text-align: center;"><span style="text-shadow: 1px 1px 1px #3f4448; color: #ff9317; font-size: 18px;">&#174;</span>        <span style="text-shadow: 1px 1px 1px #3f4448; color: #ff9317;">G.A.M.E.A. 2018</span>    </div></div><!--modal Dialog EDIT PDP--><div data-role="dialog" id="demoEdit" style="background-color: #f4eeb2" data-width="800">    <div class="dialog-title" style="font-weight:900;">ACTUALIZAR PDP</div>    <div class="dialog-content">        <form data-role="validator" method="post" action="<?php echo site_url('Admin_control/edit_pdp')?>">            <input type="hidden" name="pdp_id">            <div class="row mb-4">                <div class="cell-md-3">                    <label>Fecha</label>                    <input name="e_pdp_fecha_ingreso" data-role="datepicker" data-locale="es-ES" data-value="" id="e_pdp_fecha_ingreso">                </div>                <div class="cell-md-3">                    <label>PDP</label>                    <input name="e_pdp_nro" type="number" data-validate="required number">                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Ingresar PDP                    </span>                </div>                <div class="cell-md-2">                    <label>Gestion</label>                    <select  name="e_pdp_gestion"  data-validate="required">                        <option></option>                        <option value="2015">2015</option>                        <option value="2016">2016</option>                        <option value="2017">2017</option>                        <option value="2018">2018</option>                        <option value="2019">2019</option>                        <option value="2020">2020</option>                    </select>                    <span class="invalid_feedback">                      Seleccione Gestion                    </span>                </div>                <div class="cell-md-2">                    <label>Nº Correlativo</label>                    <input name="e_pdp_nro_correlativo" type="number" data-validate="required number">                    <span class="invalid_feedback">                      <span class="mif-warning"></span>Introduzca Nº Correlativo                    </span>                </div>                <div class="cell-md-2">                    <label>Nº Fojas</label>                    <input name="e_pdp_nro_fojas" type="number">                </div>            </div>            <div class="row mb-2">                <div class="cell-md-6">                    <label>Beneficiario</label>                    <input class="text-upper" name="e_pdp_beneficiario" type="text" data-validate="required">                     <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Beneficiario                    </span>                </div>                <div class="cell-md-6">                    <label>Descripcion</label>                    <textarea class="text-upper" name="e_pdp_descripcion" data-validate="required"></textarea>                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Descripcion                    </span>                </div>            </div>            <div class="row mb-5">                <div class="cell-md-3">                    <label>Nº Contrato</label>                    <input class="text-upper" name="e_pdp_nro_con" type="text">                </div>                <div class="cell-md-3">                    <label>Monto Economico</label>                    <input name="e_pdp_monto" type="text" data-validate="required number" id="e_pdp_monto">                    <span class="invalid_feedback">                        <span class="mif-warning"></span>Introduzca Monto Economico                    </span>                </div>                <div class="cell-md-2">                    <label>Estante</label>                    <input class="text-upper" name="e_pdp_estante" type="text" required>                </div>                <div class="cell-md-2">                    <label>Balda</label>                    <select name="e_pdp_balda">                        <option value="PENDIENTE"></option>                        <option value="A">A</option>                        <option value="B">B</option>                        <option value="C">C</option>                        <option value="D">D</option>                        <option value="E">E</option>                        <option value="F">F</option>                    </select>                    <div class="invalid_feedback">Please provide a valid zip.</div>                </div>                <div class="cell-md-2">                    <label>Fila</label>                    <select name="e_pdp_fila">                        <option value="PENDIENTE"></option>                        <option value="1">1</option>                        <option value="2">2</option>                        <option value="3">3</option>                        <option value="4">4</option>                        <option value="5">5</option>                        <option value="6">6</option>                    </select>                    <div class="invalid_feedback">Please provide a valid zip.</div>                </div>            </div>            <div class="row mb-3">                <div class="cell-md-3">                    <label>ORDEN DE</label>                    <select name="e_pdp_orden_tipo">                        <option></option>                        <option value="COMPRA">COMPRA</option>                        <option value="SERVICIO">SERVICIO</option>                    </select>                </div>                <div class="cell-md-6">                    <label>CITE/NRO</label>                    <input class="text-upper" name="e_pdp_orden_cite" type="text">                </div>                <div class="cell-md-3">                    <label>Nº Cheque</label>                    <input name="e_pdp_nro_cheque" type="number">                </div>            </div>            <div class="row mb-2">                <div class="cell-md-6">                    <label>SISIN</label>                    <input class="text-upper" name="e_pdp_sisin" type="text">                </div>                <div class="cell-md-6">                    <label>CUCE</label>                    <input class="text-upper" name="e_pdp_cuce" type="text">                </div>            </div>            <div class="row mb-3">                <div class="cell-md-4">                    <label>Objeto de Gasto</label>                    <input class="text-upper" name="e_pdp_obj_gasto" type="text">                </div>                <div class="cell-md-4">                    <label>BD</label>                    <input name="e_pdp_bd" type="number">                </div>                <div class="cell-md-4">                    <label>Partida Presupuestaria</label>                    <input name="e_pdp_partida_pre" type="number">                </div>            </div>    </div>    <div class="dialog-actions">        <button type="submit" class="button primary rounded drop-shadow">Aceptar</button>        </form>        <button class="button secondary js-dialog-close rounded drop-shadow">Cancelar</button>    </div></div><!--modal Dialog UPLOAD PDP--><div data-role="dialog" id="demoUp" style="background-color: #f4eeb2" data-width="500">    <div class="dialog-title" style="font-weight:900;">SUBIR ARCHIVO</div>    <div class="dialog-content">        <form  id="upload" method="post" enctype="multipart/form-data" action="<?php echo site_url("Admin_control/upload_PDP");?>">            <!--El name del campo tiene que ser si o si "userfile"-->            <div class="row mb-2">                <div class="cell-md-9">                    <input type="file" data-role="file" name="pdp_file" id="pdp_file" data-validate="required" data-caption="<span class='mif-folder'></span>">                    <input type="hidden" name="nFile" id="nFile">                    <input type="hidden" name="pdp_id">                </div>                <div class="cell-md-3">                    <button type="submit" class="button primary rounded drop-shadow">Enviar Arch.</button>                </div>        </form>        <progress id="prog" max="100" value="0" style="display: none;">        </progress>        <div id="percent" style="font-weight:bold;"></div>    </div>    <div class="dialog-actions">        <button class="button alert js-dialog-close rounded drop-shadow">Cerrar</button>    </div></div></body><style type="text/css">    label{ font-size: 10px; font-weight:900;}    #tablePDP_filter{padding-left: 2%;    padding-right: 2%;}    #tablePDP_length {padding-left: 2%;        padding-right: 2%;}    #prog {        background-color :  #1a1a1a ;        height :  25px ;        padding :  5px ;        width :  350px ;        margin : 5px 11px;        border-radius :  5px ;        box-shadow :  0  1px  5px  #000  inset ,  0  1px  0  #444 ;    }    .dataTables_filter>label{        font-size: 1.2em;        color: #892a78;    }</style><script>    $(document).ready(function () {        var dataTable = $('#tablePDP').DataTable({            "processing": true,            "serverSide": true,            "order": [],            "ajax": {                url: "<?php echo base_url() . 'index.php/Admin_control/list_PDP';?>",                type: "POST"            },            "columnDefs": [                {                    "targets": [0,8],                    "orderable": false                }            ],            "retrieve": true,            "deferRender": true,            "crollCollapse": true,            "scroller": true,            "language": {                "sProcessing": "Procesando...",                "sLengthMenu": "Mostrar _MENU_ registros",                "sZeroRecords": "No se encontraron resultados",                "sEmptyTable": "Ningún dato disponible en esta tabla",                "sInfo": "Mostrando  _START_ al _END_ del total _TOTAL_",                "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",                "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",                "sInfoPostFix": "",                "sSearch": "Buscar:",                "sUrl": "",                "sInfoThousands": ",",                "sLoadingRecords": "Cargando...",                "oPaginate": {                    "sFirst": "Primero",                    "sLast": "Último",                    "sNext": ">>",                    "sPrevious": "<<"                },                "oAria": {                    "sSortAscending": ": Activar para ordenar la columna de manera ascendente",                    "sSortDescending": ": Activar para ordenar la columna de manera descendente"                }            },            "lengthMenu": [10, 20, 30, 100]        });        $('#pdp_monto').number( true, 2,',', '.' );        $('#e_pdp_monto').number( true, 2,',', '.' );        $('#reload').click(function () {            location.reload();        });        $('#upload').on('submit',function (e) {            e.preventDefault();            $(this).ajaxSubmit({                beforeSend:function () {                    $('#prog').show();                    $('#prog').attr('value','0');                    rowPDP()                },                uploadProgress:function (event,position,total,percentCompelete) {                    $('#prog').attr('value',percentCompelete);                    $('#percent').html(percentCompelete+'%');                },                success: function (data) {                    alertify.alert('SI-ARCH',data);                    window.setTimeout('location.reload()', 1000);                }            });        });    });    function deletePDP(pdp_id)    {        $.ajax({            url: "<?php echo site_url('Admin_control/get_pdp/')?>" + pdp_id,            type: "GET",            dataType: "JSON",            success: function (data) {                alertify.confirm('SI-ARCH', '¿Eliminar <b>PDP '+data.pdp_nro+'</b>?', function(){                        $.ajax({                            url:  "<?php echo site_url('Admin_control/deletePDP')?>",                            type: 'POST',                            data: {"pdp_id": pdp_id},                            success: function (respuesta) {                                alertify.alert('SI-ARCH',respuesta);                                window.setTimeout('location.reload()', 1000);                            },                            error: function (xhr, status) {                                alertify.error('Error al Eliminar');                            }                        });                        alertify.success('Ok')                    }                    , function(){                        alertify.error('Cancel')});            },            error: function (jqXHR, textStatus, errorThrown) {                alert('Error al obtener datos de ajax');            }        })    }    function editPDP(pdp_id)    {        $.ajax({            url: "<?php echo site_url('Admin_control/get_pdp/')?>" + pdp_id,            type: "GET",            dataType: "JSON",            success: function (data) {                var separador = "-";                var arrayFecha = data.pdp_fecha_ingreso.split(separador);                var anio = arrayFecha[0];                var mes = arrayFecha[1];                var dia = arrayFecha[2];                var dateNew = new Date(anio, mes-1 , dia);                $('#e_pdp_fecha_ingreso').attr('data-value',dateNew);                $('[name="e_pdp_nro"]').val(data.pdp_nro);                $('[name="e_pdp_gestion"]').val(data.pdp_gestion);                $('[name="e_pdp_nro_correlativo"]').val(data.pdp_correlativo);                $('[name="e_pdp_nro_fojas"]').val(data.pdp_nro_fojas);                $('[name="e_pdp_beneficiario"]').val(data.pdp_beneficiario);                $('[name="e_pdp_descripcion"]').val(data.pdp_descripcion);                $('[name="e_pdp_nro_con"]').val(data.pdp_nro_con);                var m = data.pdp_monto;                var res = m.replace(".", ",");                $('[name="e_pdp_monto"]').val(res);                $('[name="e_pdp_estante"]').val(data.pdp_estante);                $('[name="e_pdp_balda"]').val(data.pdp_balda);                $('[name="e_pdp_fila"]').val(data.pdp_fila);                $('[name="e_pdp_orden_tipo"]').val(data.pdp_orden_tipo);                $('[name="e_pdp_orden_cite"]').val(data.pdp_orden_cite);                $('[name="e_pdp_nro_cheque"]').val(data.pdp_nro_cheque);                $('[name="e_pdp_sisin"]').val(data.pdp_sisin);                $('[name="e_pdp_cuce"]').val(data.pdp_cuce);                $('[name="e_pdp_obj_gasto"]').val(data.pdp_obj_gasto);                $('[name="e_pdp_bd"]').val(data.pdp_bd);                $('[name="e_pdp_partida_pre"]').val(data.pdp_partida_pre);                $('[name="pdp_id"]').val(data.pdp_id);            },            error: function (jqXHR, textStatus, errorThrown) {                alert('Error al obtener datos de ajax');            }        });        Metro.dialog.open('#demoEdit');    }    function  uploadPDP(pdp_id, pdp_nro, pdp_gestion) {        var nFile = pdp_id+'_PDP-'+pdp_nro+'_'+pdp_gestion;        $('[name="nFile"]').val(nFile );        $('[name="pdp_id"]').val(pdp_id);        Metro.dialog.open('#demoUp');    }    function  rowPDP() {    }    function deletePdfPDP(pdp_id)    {        $.ajax({            url: "<?php echo site_url('Admin_control/get_pdp/')?>" + pdp_id,            type: "GET",            dataType: "JSON",            success: function (data) {                alertify.confirm('SI-ARCH', '¿Eliminar <b>el archivo '+data.pdp_adjuntar+'</b>?', function(){                        $.ajax({                            url:  "<?php echo site_url('Admin_control/deletePdf_PDP')?>",                            type: 'POST',                            data: {"pdp_id": pdp_id, "pdp_adjuntar": data.pdp_adjuntar},                            success: function (respuesta) {                                alertify.alert('SI-ARCH',respuesta);                                window.setTimeout('location.reload()', 1000);                            },                            error: function (xhr, status) {                                alertify.error('Error al Eliminar archivo');                            }                        });                        alertify.success('Ok')                    }                    , function(){                        alertify.error('Cancel')});            },            error: function (jqXHR, textStatus, errorThrown) {                alert('Error al obtener datos de ajax');            }        })    }</script></html>